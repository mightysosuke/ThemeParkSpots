<div class="show-container">
  <div class="container my-4">
    <div class="under-blue">
      <h2 class="place-head text-dark"><strong><%= @place.name %></strong></h2>
      <p class="text-primary bg-blue place-head ml-4">
        <%= @place.area.park.name %>/<%= @place.area.name %>
      </p>
    </div>

    <div class="m-2">
      <div class="border rounded p-2 my-2">
        <p>
          <%= simple_format(@place.description) %>
        </p>
      </div>


    <div id="carousel-show" class="carousel slide bg-secondary">
      <div class="carousel-inner">
        <% if @place.images.attached? %>
          <% @place.images.each do |image| %>
            <% if image == @place.images.first %>
              <div class="carousel-item active">
                <%= image_tag image, class: "img-fluid d-block mx-auto" %>
              </div>
            <% else %>
              <div class="carousel-item">
                <%= image_tag image, class: "img-fluid d-block mx-auto" %>
              </div>
            <% end %>
          <% end %>
        <% end %>
      </div>
      <a class="carousel-control-prev" href="#carousel-show" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carousel-show" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>

      <div id="map" class="my-4 w-75" ></div>

      <div class="my-4">
        <% if request.referer&.include?("/places/myplace") %>
          <%= link_to 'My投稿一覧に戻る', places_myplace_path,  data: {"turbolinks" => false} %>
        <% elsif request.referer&.include?("/places/new") %>
          <%= link_to '一覧に戻る', places_path,  data: {"turbolinks" => false} %>
        <% elsif request.referer&.end_with?("/edit") %>
          <%= link_to '一覧に戻る', places_myplace_path,  data: {"turbolinks" => false} %>
        <% else %>
          <%= link_to '投稿一覧に戻る', places_path,  data: {"turbolinks" => false} %>
        <% end %>
      </div>

    </div>

  </div>
</div>



<script src="//maps.google.com/maps/api/js?key=<%= Rails.application.credentials.dig(:google, :api_key) %>&callback=initShowMap" async defer></script>
